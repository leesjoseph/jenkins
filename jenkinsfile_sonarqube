stage("build & SonarQube analysis") {
            agent any
            steps {
	            environment {
	              scannerHome = tool 'sonar-7.0' # Manage - Jenkins Tool Section
	            }
              withSonarQubeEnv('---Sonar Server Name: Jenkins - System---') {
                sh '''
		                ${scannerHome}/bin/sonar-scanner -Dsonar.projectKey=vprofile \
                   -Dsonar.projectName=vprofile \
                   -Dsonar.projectVersion=1.0 \
                   -Dsonar.sources=src/ \
                   -Dsonar.java.binaries=target/test-classes/com/visualpathit/account/controllerTest/ \
                   -Dsonar.junit.reportsPath=target/surefire-reports/ \
                   -Dsonar.jacoco.reportsPath=target/jacoco.exec \
                   -Dsonar.java.checkstyle.reportPaths=target/checkstyle-result.xml
                '''
              }
            }
          }